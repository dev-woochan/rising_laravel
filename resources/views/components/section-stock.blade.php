<main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- ì£¼ì‹ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ -->
        <div class="bg-white overflow-hidden shadow rounded-lg">
            <div class="p-4">
                <h2 class="text-lg font-semibold text-gray-800">ì½”ìŠ¤í”¼ ğŸ‡°ğŸ‡·</h2>
                <p>
                    <span>í˜„ì¬ ì§€ìˆ˜:</span> <span id="KOSPIclpr" class="text-gray-600">--</span>
                </p>
                <p>
                    <span>ì „ì¼ ëŒ€ë¹„:</span> <span id="KOSPIvs" class="text-gray-600">--</span>
                </p>
                <p>
                    <span>ë“±ë½ë¥ :</span> <span id="KOSPIfltRt" class="text-gray-600">--</span>
                </p>
                <img src="https://ssl.pstatic.net/imgfinance/chart/main/KOSPI.png?sidcode=1708490701986"
                    class="main_chart_kospi" alt="ì‹¤ì‹œê°„ ì½”ìŠ¤í”¼ ì°¨íŠ¸">
            </div>
        </div>
        <!-- ì½”ìŠ¤ë‹¥ -->

        <div class="bg-white overflow-hidden shadow rounded-lg">
            <div class="p-4">
                <h2 class="text-lg font-semibold text-gray-800">ì½”ìŠ¤ë‹¥ ğŸ‡°ğŸ‡·</h2>
                <p>
                    <span>í˜„ì¬ ì§€ìˆ˜:</span> <span id="KOSDAQclpr" class="text-gray-600">--</span>
                </p>
                <p>
                    <span>ì „ì¼ ëŒ€ë¹„:</span> <span id="KOSDAQvs" class="text-gray-600">--</span>
                </p>
                <p>
                    <span>ë“±ë½ë¥ :</span> <span id="KOSDAQfltRt" class="text-gray-600">--</span>
                </p>
                <img src="https://ssl.pstatic.net/imgfinance/chart/main/KOSDAQ.png?sidcode=1708490701988"
                    class="main_chart_kosdaq" alt="ì‹¤ì‹œê°„ ì½”ìŠ¤ë‹¥ ì°¨íŠ¸">
            </div>
        </div>
        <!-- ì½”ìŠ¤ë‹¥ -->
        <!-- ë‚˜ìŠ¤ë‹¥ -->

        <div class="bg-white overflow-hidden shadow rounded-lg">
            <div class="p-4">
                <h2 class="text-lg font-semibold text-gray-800">ë‚˜ìŠ¤ë‹¥ ğŸ‡ºğŸ‡¸</h2>
                <p>
                    <span>í˜„ì¬ ì§€ìˆ˜:</span> <span id="NASDAQclpr" class="text-gray-600">15,927.90</span>
                </p>
                <p>
                    <span>ì „ì¼ ëŒ€ë¹„:</span> <span id="NASDAQvs" class="text-gray-600">+316.14</span>
                </p>
                <p>
                    <span>ë“±ë½ë¥ :</span> <span id="NASDAQfltRt" class="text-gray-600">+2.03%</span>
                </p>
                <img src="https://ssl.pstatic.net/imgfinance/chart/world/continent/NAS@IXIC.png?1708491621832"
                    class="main_chart_nasdaq" alt="ì‹¤ì‹œê°„ ë‚˜ìŠ¤ë‹¥ ì°¨íŠ¸">
            </div>
        </div>
        <!-- ë‚˜ìŠ¤ë‹¥ -->
        <!-- ë‚˜ìŠ¤ë‹¥ -->

        <div class="bg-white overflow-hidden shadow rounded-lg">
            <div class="p-4">
                <h2 class="text-lg font-semibold text-gray-800">S&P500 ğŸ‡ºğŸ‡¸</h2>
                <p>
                    <span>í˜„ì¬ ì§€ìˆ˜:</span> <span id="S&Pclpr" class="text-gray-600">5,099.96</span>
                </p>
                <p>
                    <span>ì „ì¼ ëŒ€ë¹„:</span> <span id="S&Pvs" class="text-gray-600">+51.54</span>
                </p>
                <p>
                    <span>ë“±ë½ë¥ :</span> <span id="S&PfltRt" class="text-gray-600">+1.02%</span>
                </p>
                <img src="https://ssl.pstatic.net/imgfinance/chart/world/continent/SPI@SPX.png?1708491621832"
                    class="main_chart_S&P500" alt="ì‹¤ì‹œê°„ S&P500 ì°¨íŠ¸">
            </div>
        </div>
        <!-- ë‚˜ìŠ¤ë‹¥ -->
        <!-- S&P -->

        <div class="bg-white overflow-hidden shadow rounded-lg">
            <div class="p-4">
                <h2 class="text-lg font-semibold text-gray-800">ë…ì¼ ğŸ‡©ğŸ‡ª</h2>
                <p>
                    <span>í˜„ì¬ ì§€ìˆ˜:</span> <span class="text-blue-600">17,932.17</span>
                </p>
                <p>
                    <span>ì „ì¼ ëŒ€ë¹„:</span> <span class="text-blue-500">-186.15</span>
                </p>
                <p>
                    <span>ë“±ë½ë¥ :</span> <span class="text-blue-500">-1.02%</span>
                </p>
                <img src="https://ssl.pstatic.net/imgfinance/chart/world/continent/XTR@DAX30.png?1714579552755"
                    class="main_chart_S&P500" alt="ì‹¤ì‹œê°„ ë…ì¼ ì°¨íŠ¸">
            </div>
        </div>
        <!-- S&P -->
        <!-- ìƒí•´ -->

        <div class="bg-white overflow-hidden shadow rounded-lg">
            <div class="p-4">
                <h2 class="text-lg font-semibold text-gray-800">ìƒí•´ì¢…í•© ğŸ‡¨ğŸ‡³</h2>
                <p>
                    <span>í˜„ì¬ ì§€ìˆ˜:</span> <span class="text-blue-600">3,104.83</span>
                </p>
                <p>
                    <span>ì „ì¼ ëŒ€ë¹„:</span> <span class="text-blue-600">-8.218</span>
                </p>
                <p>
                    <span>ë“±ë½ë¥ :</span> <span class="text-blue-600">-0.26%
                    </span>
                </p>
                <img src="https://ssl.pstatic.net/imgfinance/chart/world/continent/SHS@000001.png?1714579192633"
                    class="main_chart_S&P500" alt="ì‹¤ì‹œê°„ S&P500 ì°¨íŠ¸">
            </div>
        </div>
        <!-- ìƒí•´ -->

    </div>

    <script>


        let key = "wJw%2BTdV9J5yrB4rM0HYG0YlhLtTtos5EoUBuqJwba%2FwmmwufGmUkKyoG4rS%2BQAYbycOaRarMU2fEckCLIH4wCA%3D%3D";
        let url = `https://apis.data.go.kr/1160100/service/GetMarketIndexInfoService/getStockMarketIndex?serviceKey=${key}&numOfRows=1&pageNo=1&resultType=json&idxNm=ì½”ìŠ¤í”¼
`;
        let KOSDAQclprElement = document.getElementById('KOSDAQclpr');
        let KOSDAQvsElement = document.getElementById('KOSDAQvs');
        let KOSDAQfltRtElement = document.getElementById('KOSDAQfltRt');
        let KOSPIclprElement = document.getElementById('KOSPIclpr');
        let KOSPIvsElement = document.getElementById('KOSPIvs');
        let KOSPIfltRtElement = document.getElementById('KOSPIfltRt');

        let NASDAQclpr = document.getElementById('NASDAQclpr');
        let NASDAQvs = document.getElementById('NASDAQvs');
        let NASDAQfltRt = document.getElementById('NASDAQfltRt');


        let SNPclpr = document.getElementById('S&Pclpr');
        let SNPvs = document.getElementById('S&Pvs');
        let SNPfltRt = document.getElementById('S&PfltRt');
        //í•œêµ­ ì •ë³´í¬íƒˆ ì œê³µ api 
        //kosdaq ë° kospi ì§€ìˆ˜ ì •ë³´ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°›ì•„ì™€ì„œ ì²˜ë¦¬í•œë‹¤.
        //jsonìœ¼ë¡œ ë°›ì•„ì™€ì„œ ì¢…ê°€,ë“±ë½ë¥ ,ë“±ë½ì •ë³´ë¥¼ ë°˜ì˜í•¨ 
        fetch(url)
            .then(response => response.json())
            .then(
                data => {
                    console.log(data);
                    let KOSPIclpr = data.response.body.items.item[0]['clpr'];
                    let KOSPIvs = data.response.body.items.item[0]['vs'];
                    let KOSPIfltRt = data.response.body.items.item[0]['fltRt'];

                    if (KOSPIvs > 0) {
                        KOSPIclprElement.style.color = "red";
                        KOSPIvsElement.style.color = "red";
                        KOSPIfltRtElement.style.color = "red";
                        KOSPIclprElement.textContent = KOSPIclpr;
                        KOSPIvsElement.textContent = KOSPIvs;
                        KOSPIfltRtElement.textContent = KOSPIfltRt + "%";
                    } else {
                        KOSPIclprElement.style.color = "blue";
                        KOSPIvsElement.style.color = "blue";
                        KOSPIfltRtElement.style.color = "blue";
                        KOSPIclprElement.textContent = KOSPIclpr;
                        KOSPIvsElement.textContent = KOSPIvs;
                        KOSPIfltRtElement.textContent = KOSPIfltRt + "%";
                    }

                }
            ).catch(error => {
                console.error("Errorë°œìƒ :", error);
                throw error;
            })


        let urlKOSDAQ = `https://apis.data.go.kr/1160100/service/GetMarketIndexInfoService/getStockMarketIndex?serviceKey=${key}&numOfRows=1&pageNo=1&resultType=json&idxNm=ì½”ìŠ¤ë‹¥
`;
        fetch(urlKOSDAQ)
            .then(response => response.json())
            .then(
                data => {
                    console.log(data);
                    let KOSDAQclpr = data.response.body.items.item[0]['clpr'];
                    let KOSDAQvs = data.response.body.items.item[0]['vs'];
                    let KOSDAQfltRt = data.response.body.items.item[0]['fltRt'];


                    console.log(KOSDAQclpr);
                    console.log(KOSDAQvsElement);

                    if (KOSDAQvs > 0) {
                        KOSDAQclprElement.style.color = "red";
                        KOSDAQvsElement.style.color = "red";
                        KOSDAQfltRtElement.style.color = "red";
                        KOSDAQclprElement.textContent = KOSDAQclpr;
                        KOSDAQvsElement.textContent = KOSDAQvs;
                        KOSDAQfltRtElement.textContent = KOSDAQfltRt + "%";
                    } else {
                        KOSDAQclprElement.style.color = "blue";
                        KOSDAQvsElement.style.color = "blue";
                        KOSDAQfltRtElement.style.color = "blue";
                        KOSDAQclprElement.textContent = KOSDAQclpr;
                        KOSDAQvsElement.textContent = KOSDAQvs;
                        KOSDAQfltRtElement.textContent = KOSDAQfltRt + "%";
                    }
                }
            ).catch(error => {
                console.error("Errorë°œìƒ :", error);
                throw error;
            });


        if (NASDAQvs.innerText.substring(0, 1) === "+") {
            NASDAQclpr.style.color = "red";
            NASDAQvs.style.color = "red";
            NASDAQfltRt.style.color = "red";
        } else {
            NASDAQclpr.style.color = "blue";
            NASDAQvs.style.color = "blue";
            NASDAQfltRt.style.color = "blue";
        }

        if (SNPvs.innerText.substring(0, 1) === "+") {
            SNPclpr.style.color = "red";
            SNPvs.style.color = "red";
            SNPfltRt.style.color = "red";
        } else {
            SNPclpr.style.color = "blue";
            SNPvs.style.color = "blue";
            SNPfltRt.style.color = "blue";
        }
        //ë‚˜ìŠ¤ë‹¥ snp ìƒ‰ê¹” ì„¤ì • 
    </script>
</main>